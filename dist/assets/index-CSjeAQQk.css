.toolbar{background:var(--bg-surface-translucent);border-radius:var(--radius-lg);padding:16px;display:flex;flex-direction:column;gap:12px;backdrop-filter:blur(10px);border:1px solid var(--border-default);box-shadow:var(--shadow-md);max-height:calc(100vh - 48px);overflow-y:auto}.toolbar::-webkit-scrollbar{width:6px}.toolbar::-webkit-scrollbar-track{background:transparent}.toolbar::-webkit-scrollbar-thumb{background:var(--border-hover, rgba(255, 255, 255, .2));border-radius:3px}.toolbar::-webkit-scrollbar-thumb:hover{background:var(--text-muted, rgba(255, 255, 255, .3))}.toolbar-category{display:flex;flex-direction:column;gap:8px}.toolbar-category-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);margin:0;padding:0 4px}.toolbar-buttons{display:flex;gap:8px;flex-wrap:wrap}.toolbar-button{width:56px;height:64px;background:var(--bg-hover);border:1px solid var(--border-default);border-radius:var(--radius-md);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;transition:all var(--transition-normal);position:relative;color:var(--text-primary);font-family:inherit;padding:0}.toolbar-button:hover:not(:disabled){background:var(--bg-active);border-color:var(--border-hover);transform:translateY(-2px)}.toolbar-button.active{background:var(--brand-primary);border-color:var(--brand-primary);box-shadow:var(--shadow-glow-primary)}.toolbar-button:disabled{opacity:.4;cursor:not-allowed;transform:none}.toolbar-button:disabled:hover{background:var(--bg-hover);border-color:var(--border-default)}.toolbar-button.locked{opacity:.5;cursor:not-allowed;position:relative;background:var(--bg-surface)}.toolbar-button.locked:after{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 4px,rgba(0,0,0,.1) 4px,rgba(0,0,0,.1) 8px);border-radius:inherit;pointer-events:none}.toolbar-button.locked:hover{background:var(--bg-surface);border-color:var(--border-default);transform:none}.toolbar-button-icon{font-size:24px;line-height:1}.toolbar-button-cost{font-size:10px;font-weight:500;color:var(--text-secondary)}.toolbar-button.active .toolbar-button-cost{color:#ffffffe6}.toolbar-button-locked{font-size:9px;font-weight:500;color:var(--text-muted);display:flex;align-items:center;gap:2px}.toolbar-button-shortcut{position:absolute;top:4px;right:4px;font-size:8px;font-weight:600;color:var(--text-disabled);background:#0000004d;padding:1px 4px;border-radius:3px}.toolbar-category-overlays{border-top:1px solid var(--border-default);padding-top:12px;margin-top:4px}.toolbar-category-overlays .toolbar-category-label{color:var(--brand-secondary, var(--text-muted))}.toolbar-button-overlay{background:var(--bg-surface);border-color:var(--border-default)}.toolbar-button-overlay:hover:not(:disabled){background:var(--bg-active);border-color:var(--brand-secondary, var(--border-hover))}.toolbar-button-overlay.active{background:var(--brand-secondary, #6366f1);border-color:var(--brand-secondary, #6366f1);box-shadow:0 0 12px #6366f166}.toolbar-button-overlay.active .toolbar-button-cost{color:#fffffff2}.toolbar-button-overlay.active .toolbar-button-shortcut{color:#fffc;background:#0006}@media(max-width:1279px){.toolbar{flex-direction:row;overflow-x:auto;overflow-y:hidden;max-height:none;padding:12px}.toolbar-category{flex-direction:row;align-items:center}.toolbar-category-label{writing-mode:vertical-rl;text-orientation:mixed;transform:rotate(180deg)}.toolbar-button{width:48px;height:56px}.toolbar-button-icon{font-size:20px}}@media(max-width:767px){.toolbar{flex-direction:row;overflow-x:auto;overflow-y:hidden;max-height:none;gap:8px;padding:8px}.toolbar-category{flex-direction:column;align-items:stretch;min-width:fit-content}.toolbar-category-label{writing-mode:horizontal-tb;transform:none;font-size:9px}.toolbar-button{width:44px;height:52px}.toolbar-button-icon{font-size:18px}.toolbar-button-cost{font-size:9px}}.info-panel{background:var(--bg-surface-translucent);border-radius:var(--radius-lg);padding:12px 16px;display:flex;align-items:center;gap:24px;backdrop-filter:blur(10px);border:1px solid var(--border-default);box-shadow:var(--shadow-md)}.info-divider{width:1px;height:50px;background:var(--border-subtle)}.info-stat{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 16px}.info-stat-icon{font-size:24px;line-height:1}.info-stat-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted)}.info-stat-value{font-size:20px;font-weight:700;color:var(--text-primary);font-variant-numeric:tabular-nums}.info-budget.positive .info-stat-value{color:var(--status-success)}.info-budget.negative .info-stat-value{color:var(--status-error)}.info-budget.low .info-stat-value{color:var(--status-warning)}.info-date-value{display:flex;flex-direction:column;align-items:center;gap:0}.info-date-month{font-size:16px;font-weight:700;color:var(--text-primary)}.info-date-year{font-size:14px;font-weight:500;color:var(--text-secondary)}@media(max-width:1279px){.info-panel{gap:16px;padding:10px 12px}.info-stat{padding:6px 12px}.info-stat-value{font-size:16px}.info-stat-icon{font-size:20px}.info-date-month{font-size:14px}.info-date-year{font-size:12px}.info-divider{height:40px}}@media(max-width:767px){.info-panel{flex-wrap:wrap;justify-content:center;gap:8px;padding:8px}.info-stat{flex-direction:row;gap:8px;padding:4px 8px}.info-stat-icon{font-size:18px}.info-stat-label{display:none}.info-stat-value{font-size:14px}.info-divider{display:none}.info-date-value{flex-direction:row;gap:4px}.info-date-month,.info-date-year{font-size:14px}}.budget-panel{background:var(--bg-surface-translucent);border-radius:var(--radius-lg);padding:12px 16px;display:flex;flex-direction:column;gap:8px;backdrop-filter:blur(10px);border:1px solid var(--border-default);box-shadow:var(--shadow-md);min-width:160px}.budget-balance{display:flex;flex-direction:column;align-items:center;gap:2px;padding:4px 0}.budget-balance-icon{font-size:24px;line-height:1}.budget-balance-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted)}.budget-balance-value{font-size:20px;font-weight:700;font-variant-numeric:tabular-nums}.budget-balance.positive .budget-balance-value{color:var(--status-success)}.budget-balance.negative .budget-balance-value{color:var(--status-error)}.budget-balance.low .budget-balance-value{color:var(--status-warning)}.budget-balance.deficit .budget-balance-value{animation:deficit-pulse 1.5s ease-in-out infinite}.budget-balance.deficit .budget-balance-icon{animation:deficit-icon-pulse 1.5s ease-in-out infinite}@keyframes deficit-pulse{0%,to{color:var(--status-error);text-shadow:none}50%{color:#f44;text-shadow:0 0 8px rgba(255,68,68,.6)}}@keyframes deficit-icon-pulse{0%,to{transform:scale(1);filter:none}50%{transform:scale(1.1);filter:drop-shadow(0 0 4px rgba(255,68,68,.6))}}.budget-panel-deficit{border-color:var(--status-error);box-shadow:var(--shadow-md),0 0 10px #f443}.budget-divider{width:100%;height:1px;background:var(--border-subtle)}.budget-breakdown{display:flex;flex-direction:column;gap:4px}.budget-breakdown-divider{width:100%;height:1px;background:var(--border-subtle);margin:4px 0}.budget-line{display:flex;align-items:center;gap:6px;font-size:12px}.budget-line-icon{font-size:14px;line-height:1;width:20px;text-align:center;flex-shrink:0}.budget-line-label{flex:1;color:var(--text-secondary);font-weight:500}.budget-line-amount{font-weight:600;font-variant-numeric:tabular-nums;text-align:right}.budget-line-amount.income{color:var(--status-success)}.budget-line-amount.expense{color:var(--status-error)}.budget-line-amount.positive{color:var(--status-success)}.budget-line-amount.negative{color:var(--status-error)}.budget-line-net{font-weight:700}.budget-line-net .budget-line-label{color:var(--text-primary);font-weight:600}.budget-line-net .budget-line-amount{font-size:14px}@media(max-width:1279px){.budget-panel{padding:10px 12px;min-width:140px}.budget-balance-icon{font-size:20px}.budget-balance-value{font-size:16px}.budget-line{font-size:11px}.budget-line-icon{font-size:12px;width:16px}.budget-line-net .budget-line-amount{font-size:12px}}@media(max-width:767px){.budget-panel{flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;gap:8px;padding:8px 12px;min-width:unset}.budget-balance{flex-direction:row;gap:6px}.budget-balance-icon{font-size:18px}.budget-balance-label{display:none}.budget-balance-value{font-size:14px}.budget-divider{display:none}.budget-breakdown{flex-direction:row;flex-wrap:wrap;gap:8px;justify-content:center}.budget-breakdown-divider{display:none}.budget-line{flex:0 0 auto}.budget-line-label{display:none}.budget-line-amount{font-size:11px}}.demand-meters{display:flex;gap:16px;align-items:flex-end;padding:8px 16px;background:var(--bg-surface-translucent);border-radius:var(--radius-lg);backdrop-filter:blur(10px);border:1px solid var(--border-default);box-shadow:var(--shadow-md)}.demand-meter{display:flex;flex-direction:column;align-items:center;gap:6px}.demand-meter-label{font-size:14px;font-weight:700;color:var(--text-primary)}.demand-meter.residential .demand-meter-label{color:var(--zone-residential)}.demand-meter.commercial .demand-meter-label{color:var(--zone-commercial)}.demand-meter.industrial .demand-meter-label{color:var(--zone-industrial)}.demand-meter-bar{width:20px;height:50px;background:var(--bg-hover);border-radius:var(--radius-sm);position:relative;overflow:hidden;box-shadow:inset 0 1px 2px #0003}.demand-meter-fill{position:absolute;left:2px;right:2px;bottom:2px;border-radius:var(--radius-xs);transition:height .5s cubic-bezier(.4,0,.2,1);min-height:0}.demand-meter.residential .demand-meter-fill{background:linear-gradient(to top,var(--zone-residential-dark, #2E7D32) 0%,var(--zone-residential, #90EE90) 100%);box-shadow:0 0 4px #90ee9066}.demand-meter.commercial .demand-meter-fill{background:linear-gradient(to top,var(--zone-commercial-dark, #1565C0) 0%,var(--zone-commercial, #6495ED) 100%);box-shadow:0 0 4px #6495ed66}.demand-meter.industrial .demand-meter-fill{background:linear-gradient(to top,var(--zone-industrial-dark, #F57C00) 0%,var(--zone-industrial, #FFD700) 100%);box-shadow:0 0 4px #ffd70066}.demand-meter-value{font-size:10px;font-weight:500;color:var(--text-secondary);font-variant-numeric:tabular-nums;transition:color .3s ease}.demand-meter-fill[style*="height: 7"],.demand-meter-fill[style*="height: 8"],.demand-meter-fill[style*="height: 9"],.demand-meter-fill[style*="height: 100%"]{animation:demand-pulse 2s ease-in-out infinite}@keyframes demand-pulse{0%,to{opacity:1}50%{opacity:.85}}@media(max-width:1279px){.demand-meters{gap:12px;padding:8px 12px}.demand-meter-bar{height:40px;width:16px}.demand-meter-label{font-size:12px}.demand-meter-value{font-size:9px}}@media(max-width:767px){.demand-meters{gap:8px;padding:6px 10px}.demand-meter-bar{height:32px;width:14px}.demand-meter-label{font-size:11px}.demand-meter-value{font-size:8px}}.speed-controls{display:flex;gap:6px;background:var(--bg-surface-translucent);border-radius:var(--radius-md);padding:8px;backdrop-filter:blur(10px);border:1px solid var(--border-default);box-shadow:var(--shadow-md)}.speed-button{width:44px;height:44px;background:var(--bg-hover);border:2px solid var(--border-default);border-radius:var(--radius-md);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;cursor:pointer;transition:all var(--transition-normal);font-family:inherit;padding:0;color:var(--text-primary)}.speed-button:hover{background:var(--bg-active);transform:scale(1.05)}.speed-button:focus-visible{outline:2px solid var(--brand-primary);outline-offset:2px}.speed-button.active{background:var(--brand-primary);border-color:var(--brand-primary);box-shadow:var(--shadow-glow-primary)}.speed-button:not(.pause):not(.fast).active{background:#27ae60;border-color:#27ae60;box-shadow:0 0 15px #27ae6080}.speed-button.fast.active{background:#e67e22;border-color:#e67e22;box-shadow:0 0 15px #e67e2280}.speed-button.pause.active{background:#c0392b;border-color:#c0392b;box-shadow:0 0 15px #c0392b80}.speed-button-icon{font-size:18px;line-height:1}.speed-button-shortcut{font-size:8px;font-weight:600;color:var(--text-disabled)}.speed-button.active .speed-button-shortcut{color:#fffc}@media(max-width:1279px){.speed-controls{padding:6px;gap:4px}.speed-button{width:40px;height:40px}.speed-button-icon{font-size:16px}}@media(max-width:767px){.speed-controls{padding:4px;gap:4px}.speed-button{width:36px;height:36px}.speed-button-icon{font-size:14px}.speed-button-shortcut{display:none}}.game-hud{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:flex-end;gap:16px;padding:16px;pointer-events:none;z-index:var(--z-overlay)}.game-hud>*{pointer-events:auto}.game-hud-left,.game-hud-center,.game-hud-right{display:flex;align-items:flex-end;gap:12px}.game-hud-left{flex:0 0 auto}.game-hud-center{flex:1 1 auto;justify-content:center}.game-hud-right{flex:0 0 auto}@media(min-width:1280px){.game-hud{padding:20px;gap:20px}}@media(max-width:1279px)and (min-width:768px){.game-hud{flex-wrap:wrap;gap:12px;padding:12px}.game-hud-left,.game-hud-center,.game-hud-right{flex:0 0 auto}.game-hud-center{order:-1;flex:1 1 100%;justify-content:center}.game-hud-left{flex:1 1 auto}.game-hud-right{flex:0 0 auto}}@media(max-width:767px){.game-hud{flex-direction:column;padding:8px;gap:8px}.game-hud-left,.game-hud-center,.game-hud-right{width:100%;justify-content:center}.game-hud-left{order:1;overflow-x:auto;-webkit-overflow-scrolling:touch}.game-hud-center{order:2;flex-wrap:wrap;gap:8px}.game-hud-right{order:3}}.tooltip{position:fixed;z-index:1000;background:var(--bg-surface-translucent);border:1px solid var(--border-default);border-radius:var(--radius-md);padding:8px 12px;backdrop-filter:blur(10px);box-shadow:var(--shadow-lg);pointer-events:none;min-width:140px;max-width:200px}.tooltip-header{display:flex;align-items:center;gap:6px;margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid var(--border-subtle)}.tooltip-icon{font-size:16px;line-height:1}.tooltip-title{font-size:12px;font-weight:600;color:var(--text-primary)}.tooltip-content{display:flex;flex-direction:column;gap:4px}.tooltip-status{display:flex;align-items:center;gap:6px;font-size:11px;font-weight:500}.tooltip-status.status-ok{color:var(--status-success)}.tooltip-status.status-warning{color:var(--status-error)}.tooltip-status.status-neutral{color:var(--text-muted)}.tooltip-crime.crime-none{color:var(--status-success)}.tooltip-crime.crime-low{color:#8bc34a}.tooltip-crime.crime-medium{color:#ffc107}.tooltip-crime.crime-high{color:#ff9800}.tooltip-crime.crime-extreme{color:var(--status-error)}.tooltip-pollution.pollution-none{color:var(--status-success)}.tooltip-pollution.pollution-low{color:#8bc34a}.tooltip-pollution.pollution-medium{color:#8b7765}.tooltip-pollution.pollution-high{color:#6b543f}.tooltip-pollution.pollution-extreme{color:#4f3d2e}.status-icon{font-size:12px;font-weight:700}.status-text{flex:1}.tooltip-hints{margin-top:6px;padding-top:6px;border-top:1px solid var(--border-subtle);display:flex;flex-direction:column;gap:2px}.tooltip-hint{font-size:10px;color:var(--text-muted);font-style:italic}.tooltip-abandoned{border-color:var(--status-error);background:#1e1414f2}.tooltip-abandoned-banner{display:flex;align-items:center;justify-content:center;gap:6px;background:var(--status-error);color:#fff;padding:4px 8px;margin:-8px -12px 8px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.abandoned-icon{font-size:12px}.abandoned-text{color:#fff}.tooltip-status.status-error{color:var(--status-error)}.tooltip-status.status-info{color:var(--status-info, #2196F3)}.tooltip-abandonment-reason{background:#f4433626;padding:4px 6px;border-radius:4px;margin-bottom:4px}.notification{position:fixed;top:20px;left:50%;transform:translate(-50%);z-index:var(--z-toast);display:flex;align-items:center;gap:12px;min-width:280px;max-width:420px;padding:16px 20px;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);pointer-events:auto}.notification-milestone{background:linear-gradient(135deg,gold,orange);border:2px solid rgba(255,255,255,.3);color:#1a1a2e}.notification-milestone .notification-icon{font-size:28px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.notification-milestone .notification-message{color:#1a1a2e;text-shadow:0 1px 2px rgba(255,255,255,.3)}.notification-milestone .notification-subtitle{color:#1a1a2ecc}.notification-milestone .notification-close{color:#1a1a2e99}.notification-milestone .notification-close:hover{color:#1a1a2e;background:#0000001a}.notification-warning{background:linear-gradient(135deg,var(--status-warning) 0%,var(--status-warning-dark) 100%);border:1px solid rgba(255,255,255,.2);color:#fff}.notification-warning .notification-close:hover{background:#fff3}.notification-info{background:linear-gradient(135deg,var(--status-info) 0%,var(--status-info-dark) 100%);border:1px solid rgba(255,255,255,.2);color:#fff}.notification-info .notification-close:hover{background:#fff3}.notification-error{background:linear-gradient(135deg,var(--status-error) 0%,var(--status-error-dark) 100%);border:1px solid rgba(255,255,255,.2);color:#fff}.notification-error .notification-icon{font-size:26px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.notification-error .notification-close:hover{background:#fff3}.notification-disaster{background:linear-gradient(135deg,#d32f2f,#ff5722);border:2px solid rgba(255,255,255,.3);color:#fff;animation:disaster-pulse .5s ease-in-out infinite alternate}.notification-disaster .notification-icon{font-size:28px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.notification-disaster .notification-close:hover{background:#fff3}@keyframes disaster-pulse{0%{box-shadow:0 0 10px #d32f2f80,0 4px 20px #0000004d}to{box-shadow:0 0 20px #ff5722cc,0 4px 30px #0006}}.notification-content{display:flex;align-items:center;gap:12px;flex:1}.notification-icon{font-size:24px;line-height:1;flex-shrink:0}.notification-text{display:flex;flex-direction:column;gap:2px}.notification-message{font-size:15px;font-weight:700;line-height:1.3}.notification-subtitle{font-size:12px;font-weight:500;opacity:.85}.notification-close{flex-shrink:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:20px;font-weight:700;line-height:1;cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast)}@keyframes notification-slide-in{0%{transform:translate(-50%) translateY(-100%);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}@keyframes notification-slide-out{0%{transform:translate(-50%) translateY(0);opacity:1}to{transform:translate(-50%) translateY(-100%);opacity:0}}.notification-enter{animation:notification-slide-in .3s ease-out forwards}.notification-exit{animation:notification-slide-out .3s ease-in forwards}.notification-milestone:before{content:"";position:absolute;inset:0;border-radius:inherit;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.3) 50%,transparent 70%);background-size:200% 200%;animation:shimmer 2s ease-in-out infinite;pointer-events:none}@keyframes shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}@media(max-width:480px){.notification{min-width:auto;max-width:calc(100% - 32px);left:16px;right:16px;transform:none;padding:12px 16px}.notification-enter{animation-name:notification-slide-in-mobile}.notification-exit{animation-name:notification-slide-out-mobile}@keyframes notification-slide-in-mobile{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes notification-slide-out-mobile{0%{transform:translateY(0);opacity:1}to{transform:translateY(-100%);opacity:0}}.notification-message{font-size:14px}.notification-subtitle{font-size:11px}.notification-icon{font-size:22px}}.paused-overlay{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;background:#00000080;backdrop-filter:blur(2px);cursor:pointer;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.paused-content{display:flex;flex-direction:column;align-items:center;gap:12px;padding:32px 64px;background:var(--bg-surface-translucent);border:2px solid rgba(192,57,43,.6);border-radius:var(--radius-lg);box-shadow:0 0 30px #c0392b4d,var(--shadow-lg);animation:scaleIn .2s ease-out}@keyframes scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.paused-icon{font-size:48px;filter:drop-shadow(0 0 10px rgba(192,57,43,.5))}.paused-text{font-size:32px;font-weight:700;letter-spacing:8px;color:#e74c3c;text-shadow:0 0 20px rgba(231,76,60,.5),0 2px 4px rgba(0,0,0,.3)}.paused-hint{font-size:14px;color:var(--text-secondary);opacity:.8}@media(max-width:1279px){.paused-content{padding:24px 48px;gap:10px}.paused-icon{font-size:40px}.paused-text{font-size:28px;letter-spacing:6px}.paused-hint{font-size:13px}}@media(max-width:767px){.paused-content{padding:20px 32px;gap:8px}.paused-icon{font-size:32px}.paused-text{font-size:24px;letter-spacing:4px}.paused-hint{font-size:12px}}.save-dialog-backdrop{position:fixed;inset:0;z-index:var(--z-modal);display:flex;align-items:center;justify-content:center;background:var(--bg-overlay);backdrop-filter:blur(4px);animation:fade-in .2s ease}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.save-dialog{width:100%;max-width:440px;max-height:80vh;display:flex;flex-direction:column;background:var(--bg-surface);border:1px solid var(--border-default);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);animation:slide-up .25s ease;overflow:hidden}@keyframes slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.save-dialog-header{display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-bottom:1px solid var(--border-default)}.save-dialog-icon{font-size:24px;line-height:1}.save-dialog-title{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.save-dialog-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:24px;font-weight:700;color:var(--text-secondary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast)}.save-dialog-close:hover{background:var(--bg-hover);color:var(--text-primary)}.save-dialog-content{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:16px}.save-dialog-input-group{display:flex;flex-direction:column;gap:8px}.save-dialog-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.save-dialog-input{width:100%;padding:10px 14px;background:var(--bg-input);border:1px solid var(--border-default);border-radius:var(--radius-md);font-size:15px;color:var(--text-primary);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.save-dialog-input::placeholder{color:var(--text-muted)}.save-dialog-input:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 3px #4a90d933}.save-dialog-slots{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;background:var(--bg-input);border-radius:var(--radius-sm)}.save-dialog-slots-label{font-size:12px;font-weight:500;color:var(--text-secondary)}.save-dialog-slots-warning{font-size:11px;color:var(--status-warning)}.save-dialog-saves{display:flex;flex-direction:column;gap:8px}.save-dialog-saves-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.save-dialog-saves-list{display:flex;flex-direction:column;gap:8px;max-height:200px;overflow-y:auto;padding-right:4px}.save-dialog-save-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;background:var(--bg-input);border:1px solid transparent;border-radius:var(--radius-md);cursor:pointer;transition:background var(--transition-fast),border-color var(--transition-fast)}.save-dialog-save-item:hover{background:var(--bg-hover)}.save-dialog-save-item.selected{background:#4a90d926;border-color:var(--brand-primary)}.save-dialog-save-item.deleting{background:var(--status-error-bg);border-color:var(--status-error)}.save-item-info{display:flex;align-items:flex-start;gap:10px;flex:1;min-width:0}.save-item-icon{font-size:20px;line-height:1;flex-shrink:0}.save-item-details{display:flex;flex-direction:column;gap:2px;min-width:0}.save-item-name{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.save-item-meta{font-size:12px;color:var(--text-secondary)}.save-item-date{font-size:11px;color:var(--text-muted)}.save-item-delete{flex-shrink:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:16px;cursor:pointer;transition:background var(--transition-fast)}.save-item-delete:hover{background:#f4433633}.save-item-delete.confirm{background:#f443364d;animation:pulse-warning .5s ease infinite alternate}@keyframes pulse-warning{0%{background:#f4433633}to{background:#f4433666}}.save-dialog-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:32px 16px;background:var(--bg-input);border-radius:var(--radius-md);border:1px dashed var(--border-default)}.save-dialog-empty-icon{font-size:32px;opacity:.5}.save-dialog-empty-text{font-size:14px;color:var(--text-muted)}.save-dialog-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-top:1px solid var(--border-default)}.save-dialog-btn{display:flex;align-items:center;gap:6px;padding:10px 20px;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:600;cursor:pointer;transition:background var(--transition-fast),transform var(--transition-fast)}.save-dialog-btn:active{transform:scale(.98)}.save-dialog-btn-cancel{background:var(--bg-hover);color:var(--text-secondary)}.save-dialog-btn-cancel:hover{background:var(--bg-active);color:var(--text-primary)}.save-dialog-btn-save{background:var(--brand-primary);color:var(--text-primary)}.save-dialog-btn-save:hover:not(:disabled){background:var(--brand-primary-hover)}.save-dialog-btn-save:disabled{opacity:.5;cursor:not-allowed}@media(max-width:480px){.save-dialog{max-width:calc(100% - 32px);margin:16px}.save-dialog-content{padding:16px}.save-dialog-header,.save-dialog-footer{padding:12px 16px}.save-dialog-saves-list{max-height:150px}}.load-dialog-backdrop{position:fixed;inset:0;z-index:2100;display:flex;align-items:center;justify-content:center;background:var(--bg-overlay);backdrop-filter:blur(4px);animation:load-fade-in .2s ease}@keyframes load-fade-in{0%{opacity:0}to{opacity:1}}.load-dialog{width:100%;max-width:440px;max-height:80vh;display:flex;flex-direction:column;background:var(--bg-surface);border:1px solid var(--border-default);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);animation:load-slide-up .25s ease;overflow:hidden}@keyframes load-slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.load-dialog-header{display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-bottom:1px solid var(--border-default)}.load-dialog-icon{font-size:24px;line-height:1}.load-dialog-title{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.load-dialog-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:24px;font-weight:700;color:var(--text-secondary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast)}.load-dialog-close:hover{background:var(--bg-hover);color:var(--text-primary)}.load-dialog-content{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:16px}.load-dialog-error{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px;background:var(--status-error-bg);border:1px solid var(--status-error);border-radius:var(--radius-md);text-align:center;animation:load-error-shake .4s ease}@keyframes load-error-shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-4px)}20%,40%,60%,80%{transform:translate(4px)}}.load-dialog-error-icon{font-size:24px}.load-dialog-error-text{font-size:14px;font-weight:600;color:var(--status-error)}.load-dialog-error-hint{font-size:12px;color:var(--text-secondary)}.load-dialog-saves{display:flex;flex-direction:column;gap:8px}.load-dialog-saves-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.load-dialog-saves-list{display:flex;flex-direction:column;gap:8px;max-height:320px;overflow-y:auto;padding-right:4px}.load-dialog-save-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;background:var(--bg-input);border:1px solid transparent;border-radius:var(--radius-md);cursor:pointer;transition:background var(--transition-fast),border-color var(--transition-fast)}.load-dialog-save-item:hover{background:var(--bg-hover)}.load-dialog-save-item.selected{background:#4a90d926;border-color:var(--brand-primary)}.load-dialog-save-item.deleting{background:var(--status-error-bg);border-color:var(--status-error)}.load-dialog-save-item .save-item-info{display:flex;align-items:flex-start;gap:10px;flex:1;min-width:0}.load-dialog-save-item .save-item-icon{font-size:20px;line-height:1;flex-shrink:0}.load-dialog-save-item .save-item-details{display:flex;flex-direction:column;gap:2px;min-width:0}.load-dialog-save-item .save-item-name{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.load-dialog-save-item .save-item-meta{font-size:12px;color:var(--text-secondary)}.load-dialog-save-item .save-item-date{font-size:11px;color:var(--text-muted)}.load-dialog-save-item .save-item-delete{flex-shrink:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:16px;cursor:pointer;transition:background var(--transition-fast)}.load-dialog-save-item .save-item-delete:hover{background:#f4433633}.load-dialog-save-item .save-item-delete.confirm{background:#f443364d;animation:load-pulse-warning .5s ease infinite alternate}@keyframes load-pulse-warning{0%{background:#f4433633}to{background:#f4433666}}.load-dialog-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:48px 16px;background:var(--bg-input);border-radius:var(--radius-md);border:1px dashed var(--border-default)}.load-dialog-empty-icon{font-size:40px;opacity:.5}.load-dialog-empty-text{font-size:15px;font-weight:500;color:var(--text-secondary)}.load-dialog-empty-hint{font-size:13px;color:var(--text-muted)}.load-dialog-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-top:1px solid var(--border-default)}.load-dialog-btn{display:flex;align-items:center;gap:6px;padding:10px 20px;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:600;cursor:pointer;transition:background var(--transition-fast),transform var(--transition-fast)}.load-dialog-btn:active{transform:scale(.98)}.load-dialog-btn-cancel{background:var(--bg-hover);color:var(--text-secondary)}.load-dialog-btn-cancel:hover{background:var(--bg-active);color:var(--text-primary)}.load-dialog-btn-load{background:var(--brand-primary);color:var(--text-primary)}.load-dialog-btn-load:hover:not(:disabled){background:var(--brand-primary-hover)}.load-dialog-btn-load:disabled{opacity:.5;cursor:not-allowed}@media(max-width:480px){.load-dialog{max-width:calc(100% - 32px);margin:16px}.load-dialog-content{padding:16px}.load-dialog-header,.load-dialog-footer{padding:12px 16px}.load-dialog-saves-list{max-height:250px}}.settings-dialog-backdrop{position:fixed;inset:0;z-index:2100;display:flex;align-items:center;justify-content:center;background:var(--bg-overlay);backdrop-filter:blur(4px);animation:settings-fade-in .2s ease}@keyframes settings-fade-in{0%{opacity:0}to{opacity:1}}.settings-dialog{width:100%;max-width:400px;max-height:80vh;display:flex;flex-direction:column;background:var(--bg-surface);border:1px solid var(--border-default);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);animation:settings-slide-up .25s ease;overflow:hidden}@keyframes settings-slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.settings-dialog-header{display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-bottom:1px solid var(--border-default)}.settings-dialog-icon{font-size:24px;line-height:1}.settings-dialog-title{flex:1;margin:0;font-size:18px;font-weight:600;color:var(--text-primary)}.settings-dialog-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);font-size:24px;font-weight:700;color:var(--text-secondary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast)}.settings-dialog-close:hover{background:var(--bg-hover);color:var(--text-primary)}.settings-dialog-content{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:24px}.settings-section{display:flex;flex-direction:column;gap:16px}.settings-section-title{display:flex;align-items:center;gap:8px;margin:0 0 4px;font-size:14px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.settings-control{display:flex;flex-direction:column;gap:8px}.settings-label{font-size:14px;font-weight:500;color:var(--text-primary)}.settings-slider-container{display:flex;align-items:center;gap:12px}.settings-slider{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:var(--bg-input);border-radius:3px;cursor:pointer;transition:opacity var(--transition-fast)}.settings-slider:disabled{opacity:.4;cursor:not-allowed}.settings-slider::-webkit-slider-runnable-track{height:6px;background:var(--bg-input);border-radius:3px}.settings-slider::-moz-range-track{height:6px;background:var(--bg-input);border-radius:3px}.settings-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;margin-top:-6px;background:var(--brand-primary);border:2px solid var(--bg-surface);border-radius:50%;cursor:pointer;box-shadow:0 2px 4px #0000004d;transition:transform var(--transition-fast),background var(--transition-fast)}.settings-slider::-moz-range-thumb{width:18px;height:18px;background:var(--brand-primary);border:2px solid var(--bg-surface);border-radius:50%;cursor:pointer;box-shadow:0 2px 4px #0000004d;transition:transform var(--transition-fast),background var(--transition-fast)}.settings-slider:not(:disabled)::-webkit-slider-thumb:hover{transform:scale(1.1);background:var(--brand-primary-hover)}.settings-slider:not(:disabled)::-moz-range-thumb:hover{transform:scale(1.1);background:var(--brand-primary-hover)}.settings-slider:disabled::-webkit-slider-thumb{background:var(--text-muted);cursor:not-allowed}.settings-slider:disabled::-moz-range-thumb{background:var(--text-muted);cursor:not-allowed}.settings-slider-value{min-width:48px;padding:4px 8px;font-size:13px;font-weight:600;font-variant-numeric:tabular-nums;text-align:center;color:var(--text-secondary);background:var(--bg-input);border-radius:var(--radius-sm)}.settings-control-checkbox{padding-top:8px;border-top:1px solid var(--border-default);margin-top:4px}.settings-checkbox-label{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-input);border-radius:var(--radius-md);cursor:pointer;transition:background var(--transition-fast)}.settings-checkbox-label:hover{background:var(--bg-hover)}.settings-checkbox{position:absolute;opacity:0;width:0;height:0}.settings-checkbox-custom{display:flex;align-items:center;justify-content:center;width:32px;height:32px;font-size:20px;background:var(--bg-surface);border:2px solid var(--border-default);border-radius:var(--radius-sm);transition:border-color var(--transition-fast),background var(--transition-fast)}.settings-checkbox:checked+.settings-checkbox-custom{background:#f443361a;border-color:var(--status-error)}.settings-checkbox:focus+.settings-checkbox-custom{border-color:var(--border-focus);box-shadow:0 0 0 3px #4a90d933}.settings-checkbox-text{flex:1;font-size:14px;font-weight:500;color:var(--text-primary)}.settings-dialog-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;background:var(--bg-surface-elevated);border-top:1px solid var(--border-default)}.settings-dialog-btn{display:flex;align-items:center;gap:6px;padding:10px 24px;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:600;cursor:pointer;transition:background var(--transition-fast),transform var(--transition-fast)}.settings-dialog-btn:active{transform:scale(.98)}.settings-dialog-btn-close{background:var(--brand-primary);color:var(--text-primary)}.settings-dialog-btn-close:hover{background:var(--brand-primary-hover)}@media(max-width:480px){.settings-dialog{max-width:calc(100% - 32px);margin:16px}.settings-dialog-content{padding:16px}.settings-dialog-header,.settings-dialog-footer{padding:12px 16px}}.splash-screen{position:fixed;inset:0;z-index:2000;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-app) 0%,#1a1a2e 50%,#16213e 100%);overflow:hidden;animation:splashFadeIn .8s ease-out}@keyframes splashFadeIn{0%{opacity:0}to{opacity:1}}.splash-background{position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(74,144,217,.15) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(255,184,77,.1) 0%,transparent 40%);animation:backgroundPulse 8s ease-in-out infinite}@keyframes backgroundPulse{0%,to{opacity:.6}50%{opacity:1}}.splash-skyline{position:absolute;bottom:0;left:0;right:0;height:200px;background:linear-gradient(to top,rgba(20,20,30,.9) 0%,transparent 100%);mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 200'%3E%3Cpath d='M0,200 L0,150 L50,150 L50,120 L80,120 L80,100 L100,100 L100,140 L150,140 L150,90 L170,90 L170,110 L200,110 L200,80 L220,80 L220,130 L280,130 L280,60 L300,60 L300,100 L350,100 L350,70 L380,70 L380,120 L420,120 L420,50 L450,50 L450,90 L500,90 L500,110 L550,110 L550,70 L580,70 L580,130 L620,130 L620,40 L660,40 L660,80 L700,80 L700,100 L750,100 L750,60 L780,60 L780,120 L830,120 L830,55 L870,55 L870,95 L920,95 L920,75 L960,75 L960,110 L1000,110 L1000,85 L1050,85 L1050,130 L1100,130 L1100,65 L1140,65 L1140,100 L1200,100 L1200,200 Z' fill='white'/%3E%3C/svg%3E");mask-size:cover;mask-position:bottom;animation:skylineFadeIn 1.2s ease-out .3s both}@keyframes skylineFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.splash-content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;gap:24px;padding:48px;text-align:center}.splash-icon{font-size:72px;filter:drop-shadow(0 0 20px rgba(74,144,217,.5));animation:iconFloat 3s ease-in-out infinite,iconFadeIn .6s ease-out .2s both}@keyframes iconFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes iconFadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.splash-title{font-size:64px;font-weight:800;letter-spacing:4px;color:var(--text-primary);text-transform:uppercase;text-shadow:0 0 40px rgba(74,144,217,.6),0 0 80px rgba(74,144,217,.3),0 4px 8px rgba(0,0,0,.5);animation:titleGlow 4s ease-in-out infinite,titleFadeIn .8s ease-out .3s both;margin:0}@keyframes titleGlow{0%,to{text-shadow:0 0 40px rgba(74,144,217,.6),0 0 80px rgba(74,144,217,.3),0 4px 8px rgba(0,0,0,.5)}50%{text-shadow:0 0 60px rgba(74,144,217,.8),0 0 100px rgba(74,144,217,.5),0 4px 8px rgba(0,0,0,.5)}}@keyframes titleFadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.splash-subtitle{font-size:18px;font-weight:400;color:var(--text-secondary);letter-spacing:2px;margin:0;animation:subtitleFadeIn .8s ease-out .5s both}@keyframes subtitleFadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.splash-menu{display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:24px;animation:menuFadeIn .8s ease-out .7s both}@keyframes menuFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.splash-menu-button{display:flex;align-items:center;justify-content:center;gap:12px;width:240px;padding:14px 32px;font-size:18px;font-weight:600;letter-spacing:1px;color:var(--text-primary);border:none;border-radius:var(--radius-lg);cursor:pointer;transition:transform var(--transition-normal),box-shadow var(--transition-normal),background var(--transition-normal)}.splash-menu-button:focus-visible{outline:2px solid var(--brand-accent);outline-offset:4px}.splash-menu-button:active{transform:translateY(0) scale(.98)}.splash-menu-button-primary{background:linear-gradient(135deg,var(--brand-primary) 0%,var(--brand-primary-hover) 100%);box-shadow:0 4px 20px #4a90d966,0 0 40px #4a90d933,inset 0 1px #fff3;animation:buttonPulse 2s ease-in-out infinite 1.5s}.splash-menu-button-primary:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 6px 30px #4a90d999,0 0 60px #4a90d966,inset 0 1px #ffffff4d;animation:none}.splash-menu-button-primary:active{box-shadow:0 2px 15px #4a90d966,0 0 30px #4a90d933,inset 0 1px #ffffff1a}@keyframes buttonPulse{0%,to{box-shadow:0 4px 20px #4a90d966,0 0 40px #4a90d933,inset 0 1px #fff3}50%{box-shadow:0 4px 30px #4a90d999,0 0 60px #4a90d94d,inset 0 1px #fff3}}.splash-menu-button-secondary{background:var(--bg-surface);border:1px solid var(--border-default);box-shadow:0 2px 10px #0000004d,inset 0 1px #ffffff0d}.splash-menu-button-secondary:hover{transform:translateY(-2px);background:var(--bg-hover);border-color:var(--brand-primary);box-shadow:0 4px 20px #4a90d933,inset 0 1px #ffffff1a}.splash-menu-button-secondary:active{box-shadow:0 1px 5px #0000004d,inset 0 1px #ffffff0d}.splash-menu-button-tertiary{background:transparent;border:1px solid var(--border-default);color:var(--text-secondary);font-size:16px;padding:12px 28px}.splash-menu-button-tertiary:hover{transform:translateY(-1px);background:var(--bg-hover);border-color:var(--text-secondary);color:var(--text-primary)}.splash-menu-button-tertiary:active{background:var(--bg-active)}.splash-button-icon{font-size:20px}.splash-hint{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:16px;font-size:14px;color:var(--text-muted);animation:hintFadeIn .8s ease-out .9s both}@keyframes hintFadeIn{0%{opacity:0}to{opacity:1}}.splash-hint kbd{display:inline-flex;align-items:center;justify-content:center;min-width:24px;padding:4px 10px;font-family:inherit;font-size:12px;font-weight:600;color:var(--text-secondary);background:var(--bg-surface);border:1px solid var(--border-default);border-radius:var(--radius-sm);box-shadow:0 2px 0 var(--border-default),inset 0 -1px #0003}.splash-version{position:absolute;bottom:24px;right:24px;font-size:12px;color:var(--text-muted);opacity:.6;animation:versionFadeIn .8s ease-out 1s both}@keyframes versionFadeIn{0%{opacity:0}to{opacity:.6}}.splash-screen--exiting{animation:splashFadeOut .5s ease-in forwards;pointer-events:none}@keyframes splashFadeOut{0%{opacity:1}to{opacity:0}}@media(max-width:1279px){.splash-content{gap:20px;padding:36px}.splash-icon{font-size:56px}.splash-title{font-size:48px;letter-spacing:3px}.splash-subtitle{font-size:16px}.splash-menu-button{width:220px;padding:12px 28px;font-size:16px}.splash-menu-button-tertiary{font-size:14px;padding:10px 24px}.splash-skyline{height:150px}}@media(max-width:767px){.splash-content{gap:16px;padding:24px}.splash-icon{font-size:48px}.splash-title{font-size:32px;letter-spacing:2px}.splash-subtitle{font-size:14px;letter-spacing:1px}.splash-menu{gap:10px;margin-top:20px}.splash-menu-button{width:200px;padding:10px 24px;font-size:14px;gap:8px}.splash-menu-button-tertiary{font-size:13px;padding:8px 20px}.splash-button-icon{font-size:16px}.splash-hint{font-size:12px}.splash-skyline{height:100px}.splash-version{bottom:16px;right:16px;font-size:11px}}@media(prefers-reduced-motion:reduce){.splash-screen,.splash-skyline,.splash-icon,.splash-title,.splash-subtitle,.splash-menu,.splash-menu-button,.splash-hint,.splash-version,.splash-background{animation:none}.splash-screen,.splash-skyline,.splash-icon,.splash-title,.splash-subtitle,.splash-menu,.splash-hint,.splash-version{opacity:1;transform:none}.splash-menu-button:hover{transform:none}}.mute-button{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;border-radius:8px;background:var(--panel-bg, rgba(15, 15, 30, .95));cursor:pointer;transition:all .15s ease;padding:0}.mute-button:hover{background:var(--panel-bg-hover, rgba(30, 30, 50, .95));transform:scale(1.05)}.mute-button:active{transform:scale(.95)}.mute-button.muted{opacity:.7}.mute-button-icon{font-size:20px;line-height:1}@media(max-width:767px){.mute-button{width:36px;height:36px}.mute-button-icon{font-size:18px}}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{-webkit-text-size-adjust:100%;text-size-adjust:100%;overflow:hidden}body{width:100vw;height:100vh;overflow:hidden;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:14px;line-height:1.5;background-color:#0f0f1a;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#root{width:100%;height:100%;overflow:hidden}.app-container{width:100%;height:100%;display:flex;flex-direction:column;background-color:#0f0f1a}.game-canvas-container{flex:1;position:relative;background-color:#1a1a2e}.game-canvas-container canvas{display:block}.game-canvas-container{user-select:none;-webkit-user-select:none}.game-canvas-container{cursor:grab}.game-canvas-container:active{cursor:grabbing}:root{--brand-primary: #4A90D9;--brand-primary-hover: #5A9FE9;--brand-primary-active: #3A80C9;--brand-secondary: #1E1E28;--brand-accent: #FFB84D;--bg-app: #0F0F1A;--bg-surface: #1E1E28;--bg-surface-elevated: rgba(40, 40, 55, .98);--bg-surface-translucent: rgba(30, 30, 40, .95);--bg-input: rgba(0, 0, 0, .3);--bg-hover: rgba(255, 255, 255, .08);--bg-active: rgba(255, 255, 255, .12);--bg-overlay: rgba(0, 0, 0, .7);--bg-primary: rgba(30, 30, 40, .95);--bg-secondary: #0F0F1A;--bg-elevated: rgba(40, 40, 55, .98);--text-primary: #FFFFFF;--text-secondary: rgba(255, 255, 255, .7);--text-muted: rgba(255, 255, 255, .5);--text-disabled: rgba(255, 255, 255, .3);--text-inverse: #14141C;--border-default: rgba(100, 100, 120, .3);--border-hover: rgba(100, 100, 120, .5);--border-focus: #4A90D9;--border-subtle: rgba(255, 255, 255, .1);--accent-primary: #4A90D9;--accent-primary-hover: #5A9FE9;--accent-primary-active: #3A80C9;--status-success: #4CAF50;--status-success-light: #66BB6A;--status-success-dark: #388E3C;--status-success-bg: rgba(76, 175, 80, .15);--status-warning: #FF9800;--status-warning-light: #FFB74D;--status-warning-dark: #F57C00;--status-warning-bg: rgba(255, 152, 0, .15);--status-error: #F44336;--status-error-light: #EF5350;--status-error-dark: #D32F2F;--status-error-bg: rgba(244, 67, 54, .15);--status-danger: #F44336;--status-danger-bg: rgba(244, 67, 54, .15);--status-info: #2196F3;--status-info-light: #42A5F5;--status-info-dark: #1976D2;--status-info-bg: rgba(33, 150, 243, .15);--terrain-grass: #4A7C31;--terrain-grass-light: #5D9B3E;--terrain-grass-dark: #3A6225;--terrain-grass-accent: #6BB848;--terrain-water: #2563EB;--terrain-water-light: #3B82F6;--terrain-water-dark: #1D4ED8;--terrain-water-accent: #0EA5E9;--terrain-sand: #D4A574;--terrain-forest: #2D5016;--terrain-rock: #6B7280;--terrain-dirt: #92400E;--zone-residential: #90EE90;--zone-residential-light: #B8F5B8;--zone-residential-medium: #66D966;--zone-residential-dark: #2E7D32;--zone-residential-bg: rgba(144, 238, 144, .4);--zone-residential-border: rgba(144, 238, 144, .8);--zone-commercial: #6495ED;--zone-commercial-light: #93B8F5;--zone-commercial-medium: #4A7DD9;--zone-commercial-dark: #1565C0;--zone-commercial-bg: rgba(100, 149, 237, .4);--zone-commercial-border: rgba(100, 149, 237, .8);--zone-industrial: #FFD700;--zone-industrial-light: #FFE44D;--zone-industrial-medium: #E6C200;--zone-industrial-dark: #F57C00;--zone-industrial-bg: rgba(255, 215, 0, .4);--zone-industrial-border: rgba(255, 215, 0, .8);--overlay-power-on: rgba(76, 175, 80, .5);--overlay-power-off: rgba(244, 67, 54, .5);--overlay-power-source: rgba(139, 195, 74, .6);--overlay-water-on: rgba(33, 150, 243, .5);--overlay-water-off: rgba(244, 67, 54, .5);--overlay-water-source: rgba(3, 169, 244, .6);--overlay-traffic-low: rgba(76, 175, 80, .5);--overlay-traffic-medium: rgba(255, 152, 0, .5);--overlay-traffic-high: rgba(244, 67, 54, .5);--overlay-value-low: rgba(244, 67, 54, .5);--overlay-value-fair: rgba(255, 152, 0, .5);--overlay-value-good: rgba(255, 235, 59, .5);--overlay-value-high: rgba(76, 175, 80, .5);--infra-road: #4A4A4A;--infra-road-marking: #D4D4D4;--infra-power-line: #6B6B6B;--infra-power-pole: #8B4513;--infra-water-pipe: #1976D2;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .2);--shadow-md: 0 4px 20px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 40px rgba(0, 0, 0, .6);--shadow-glow-primary: 0 0 15px rgba(74, 144, 217, .4);--shadow-glow-success: 0 0 12px rgba(76, 175, 80, .4);--shadow-glow-warning: 0 0 12px rgba(255, 152, 0, .4);--shadow-glow-error: 0 0 12px rgba(244, 67, 54, .4);--radius-xs: 2px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--transition-fast: .1s ease;--transition-normal: .15s ease;--transition-slow: .3s ease;--transition-bounce: .3s cubic-bezier(.68, -.55, .265, 1.55);--z-base: 0;--z-dropdown: 100;--z-sticky: 200;--z-overlay: 300;--z-modal: 400;--z-popover: 500;--z-toast: 600;--z-tooltip: 700}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#0003;border-radius:4px}::-webkit-scrollbar-thumb{background:#64647880;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#646478b3}:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.loading{display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:var(--text-muted);font-size:18px}.loading:after{content:"";display:inline-block;width:20px;height:20px;margin-left:12px;border:2px solid transparent;border-top-color:var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.text-mono{font-family:JetBrains Mono,Fira Code,Consolas,monospace}.text-numeric{font-variant-numeric:tabular-nums}.app{width:100%;height:100%;position:relative;overflow:hidden}.game-container{width:100%;height:100%;position:absolute;inset:0}.game-container canvas{position:absolute;top:0;left:0}@keyframes screen-shake{0%,to{transform:translate(0)}5%{transform:translate(-12px,-10px)}10%{transform:translate(10px,12px)}15%{transform:translate(-14px,6px)}20%{transform:translate(12px,-12px)}25%{transform:translate(-10px,14px)}30%{transform:translate(14px,-8px)}35%{transform:translate(-12px,10px)}40%{transform:translate(8px,-14px)}45%{transform:translate(-8px,12px)}50%{transform:translate(10px,-10px)}55%{transform:translate(-14px,8px)}60%{transform:translate(12px,-6px)}65%{transform:translate(-10px,14px)}70%{transform:translate(8px,-12px)}75%{transform:translate(-6px,10px)}80%{transform:translate(14px,-8px)}85%{transform:translate(-8px,6px)}90%{transform:translate(6px,-4px)}95%{transform:translate(-4px,2px)}}.game-container.screen-shake{animation:screen-shake 1s ease-out}.screensaver-hint{position:fixed;bottom:32px;left:50%;transform:translate(-50%);padding:12px 24px;background:var(--bg-surface-translucent);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);color:var(--text-secondary);font-size:14px;z-index:var(--z-overlay);backdrop-filter:blur(8px);animation:screensaverHintFadeIn 1s ease-out 2s both;pointer-events:none}.screensaver-hint kbd{display:inline-flex;align-items:center;justify-content:center;min-width:24px;padding:2px 8px;font-family:inherit;font-size:12px;font-weight:600;color:var(--text-primary);background:var(--bg-surface);border:1px solid var(--border-default);border-radius:var(--radius-sm);box-shadow:0 2px 0 var(--border-default),inset 0 -1px #0003;margin-left:4px}@keyframes screensaverHintFadeIn{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:.8;transform:translate(-50%) translateY(0)}}.screensaver-hint{animation:screensaverHintFadeIn 1s ease-out 2s both,screensaverHintFadeOut 1s ease-out 8s both}@keyframes screensaverHintFadeOut{0%{opacity:.8}to{opacity:.3}}
